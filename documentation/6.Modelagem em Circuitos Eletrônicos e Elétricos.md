# âš¡ Modelagem de Circuitos ElÃ©tricos e EletrÃ´nicos

## ğŸ“Œ Fundamentos: Corrente e TensÃ£o

Em sistemas elÃ©tricos, os dois principais sinais fÃ­sicos envolvidos sÃ£o:

- **Corrente elÃ©trica `i(t)`**: fluxo de cargas elÃ©tricas [A].
- **TensÃ£o elÃ©trica `v(t)`**: diferenÃ§a de potencial elÃ©trico [V].

## ğŸ” Leis de Kirchhoff

### 1. **Lei das Correntes de Kirchhoff (LCK)**

> A soma das correntes que entram em um nÃ³ Ã© igual Ã  soma das correntes que saem.

$$
\sum i_{\text{entrando}} = \sum i_{\text{saindo}}
$$

### 2. **Lei das TensÃµes de Kirchhoff (LTK)**

> A soma algÃ©brica das tensÃµes em uma malha fechada Ã© zero.

$$
\sum v = 0
$$

Estas leis **garantem a conservaÃ§Ã£o da carga e da energia elÃ©trica** e sÃ£o usadas para montar as equaÃ§Ãµes dos circuitos.

---

# ğŸ”Œ Elementos BÃ¡sicos dos Circuitos

## 1. **Resistor (R)**

- **Lei de Ohm**:  
$$
v_R(t) = R \cdot i_R(t)
$$

- **Energia dissipada (calor)**:
$$
E_R = \int_{t_0}^{t_f} v_R(t)i_R(t) \, dt
$$

> O resistor nÃ£o armazena energia, apenas **dissipa**.

---

## 2. **Indutor (L)**

- **RelaÃ§Ã£o tensÃ£o-corrente**:  
$$
v_L(t) = L \cdot \frac{d i_L(t)}{dt}
$$

- **Energia armazenada no campo magnÃ©tico**:
$$
E_L = \frac{1}{2}L i_L^2(t)
$$

---

## 3. **Capacitor (C)**

- **RelaÃ§Ã£o corrente-tensÃ£o**:  
$$
i_C(t) = C \cdot \frac{d v_C(t)}{dt}
$$

- **Energia armazenada no campo elÃ©trico**:
$$
E_C = \frac{1}{2}C v_C^2(t)
$$

---

# âš™ï¸ Modelagem de Circuitos ElÃ©tricos

## Procedimento PrÃ¡tico (Ogata):

1. **Escolha variÃ¡veis de estado:**
   - Correntes nos **indutores**:$ i_L $
   - TensÃµes nos **capacitores**:$ v_C $

2. **Use as Leis de Kirchhoff (LCK e LTK)** para obter equaÃ§Ãµes diferenciais.

3. **Elimine variÃ¡veis auxiliares** (como correntes de resistores).

---

## ğŸ§  Dica: SubstituiÃ§Ã£o SimbÃ³lica

- **Capacitor** â†’ Substituir por uma fonte de tensÃ£o$ v_C(t) $, e usar:
$$
i_C(t) = C \cdot \frac{d v_C(t)}{dt}
$$

- **Indutor** â†’ Substituir por uma fonte de corrente$ i_L(t) $, e usar:
$$
v_L(t) = L \cdot \frac{d i_L(t)}{dt}
$$

---

# âš¡ Exemplo de Modelagem (Circuito RLRC)

Imagine o circuito:

```
           rl         L        x1
 u  â”€â”€â”€â”€â”€/\/\/\â”€â”€â”€â”€â”€UUUâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                   â”‚
                                   R
                                   â”‚
          rc        C        x2    â”‚
     â”€â”€â”€/\/\/\â”€â”€â”€â”€||â”€â”€â”€â”€â”€â”€â”€â”       â”‚
                          y       GND
```

<p align="center">
  <img src="assets/section6/exemplo_circuito_eletrico.png" alt="Exemplo de Circuito ElÃ©trico" />
</p>

## EquaÃ§Ãµes diferenciais:

1. **No ramo do indutor (malha superior):**

$$
u(t) - y(t) - r_l x_1 = L \dot{x}_1
$$

2. **No ramo do capacitor (malha inferior):**

$$
\frac{y(t) - x_2}{r_c} = C \dot{x}_2
$$

3. **Com a Lei de Kirchhoff para NÃ³s (LKN):**

$$
y = R \left( x_1 - \frac{y - x_2}{r_c} \right)
$$

$$
\frac{y - x_2}{r_c} = C \dot{x}_2
$$


### Forma de Estado:

Isolando $y$ na terceira equaÃ§Ã£o e substituindo:

$$
\dot{x} =
\begin{bmatrix}
-\frac{r_c R + r_c r_l + r_l R}{L(R + r_c)} & -\frac{R}{L(R + r_c)} 
\\
\frac{R}{(R + r_c)C} & -\frac{1}{(R + r_c)C}
\end{bmatrix}
x +
\begin{bmatrix}
\frac{1}{L} \\
0
\end{bmatrix}
u
$$

$$
y =
\begin{bmatrix}
\frac{R r_c}{R + r_c} & \frac{R}{R + r_c}
\end{bmatrix}
x
$$

### FunÃ§Ã£o de TransferÃªncia (FT)

Podemos obter a FT:

$$
\hat{g}(s) = C(sI - A)^{-1}B + D
$$

#### ObservaÃ§Ã£o:

Para matrizes $2 \times 2$:

$$
\begin{bmatrix}
a & b \\
c & d
\end{bmatrix}^{-1}
=
\frac{1}{ad - bc}
\begin{bmatrix}
d & -b \\
-c & a
\end{bmatrix}
$$

---

## ğŸ“ˆ EquaÃ§Ã£o de Estado e SaÃ­da

Forma matricial:

$$
\dot{x} = A x + B u
$$
$$
y = C x + D u
$$

---

# ğŸ”Œ Amplificadores Operacionais (AmpOps)

## Modelo ideal:

- ImpedÃ¢ncia de entrada â†’ âˆ (nÃ£o consome corrente)
- ImpedÃ¢ncia de saÃ­da â†’ 0
- Ganho em malha aberta â†’ âˆ

> ConsequÃªncia:$ V_+ = V_- $ (em malha fechada com realimentaÃ§Ã£o negativa).

---

# âš™ï¸ Exemplo: Compensador Proporcional + Integral (PI)

```
      u â”€â”€â”¬â”€â”€â”€â”€â”€/\/\/\â”€â”€â”€â”€â”€â”¬â”€â”€ y
           R1      i       |
                          === C
                           |
                         /\/\/\
                          R2
                           |
                          GND
```

<p align="center">
  <img src="assets/section6/exemplo_compensador_proporcional.png" alt="Exemplo de Circuito ElÃ©trico" />
</p>

## AnÃ¡lise:
### 1. DerivaÃ§Ã£o da EquaÃ§Ã£o Diferencial

Partimos da equaÃ§Ã£o inicial:

$$
i = \frac{1}{R_1} u = C \cdot \frac{d}{dt}(-R_2 i - y)
$$

Focando na parte direita:

$$
i = C \cdot \frac{d}{dt}(-R_2 i - y)
$$

Aplicando a **regra da cadeia** para derivar:

$$
i = C \cdot \left( -R_2 \frac{di}{dt} - \frac{dy}{dt} \right)
$$

Dividindo ambos os lados por \( C \):

$$
\frac{i}{C} = -R_2 \frac{di}{dt} - \frac{dy}{dt}
$$

Isolando \( \frac{dy}{dt} \):

$$
\frac{dy}{dt} = -R_2 \frac{di}{dt} - \frac{i}{C}
$$

---

### 2. SubstituiÃ§Ã£o de $ i = \frac{1}{R_1} u $

Sabemos que:

$$
\frac{di}{dt} = \frac{1}{R_1} \frac{du}{dt}
$$

Substituindo na equaÃ§Ã£o anterior:

$$
\frac{dy}{dt} = -R_2 \cdot \left( \frac{1}{R_1} \frac{du}{dt} \right) - \frac{1}{C} \cdot \left( \frac{1}{R_1} u \right)
$$

Simplificando os termos:

$$
\dot{y} = -\frac{R_2}{R_1} \dot{u} - \frac{1}{R_1 C} u
$$

---

### 3. Forma Final da EquaÃ§Ã£o

A equaÃ§Ã£o diferencial que descreve o sistema Ã©:

$$
\dot{y} + \frac{1}{R_1 C} y = -\frac{R_2}{R_1} \dot{u}
$$

Essa equaÃ§Ã£o mostra como a saÃ­da \( y \) varia em funÃ§Ã£o da entrada \( u \), considerando os parÃ¢metros \( R_1 \), \( R_2 \) e \( C \).

---

## **InterpretaÃ§Ã£o fÃ­sica**

Essa equaÃ§Ã£o diferencial mostra como a **velocidade de variaÃ§Ã£o da saÃ­da \( y \)** depende de:
- A **velocidade de variaÃ§Ã£o da entrada \( u \)**,
- O prÃ³prio valor de \( u \).

Ã‰ tÃ­pica de sistemas de **1Âª ordem**, como circuitos RC. Aqui, a resistÃªncia \( R_2 \) e o capacitor \( C \) influenciam diretamente na dinÃ¢mica da saÃ­da.

Se quiser, posso tambÃ©m montar o diagrama desse circuito pra te mostrar visualmente o que estÃ¡ acontecendo.

---

# ğŸ” Modelagem do Motor de Corrente ContÃ­nua (CC)

**ElÃ©trico:**

$$
v_{in}(t) - Ri(t) - L \frac{di(t)}{dt} - K \omega(t) = 0
$$

**MecÃ¢nico:**

$$
J \frac{d \omega(t)}{dt} + b \omega(t) = K i(t)
$$

Com:

-$ x_1 = i(t) $
-$ x_2 = \omega(t) $
-$ u = v_{in}(t) $